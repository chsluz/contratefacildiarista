<!DOCTYPE html>
<ui:composition template="/template/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="titulo">Contratação de Diaristas</ui:define>

	<ui:define name="logout"></ui:define>
	<ui:define name="corpo">
		<h:outputScript library="js" name="criarUsuario.js" />
		<h:panelGroup id="panelCadastroUsuario">
			<div class="ui-fluid">
				<div class="ui-g-12">
					<h:inputHidden id="idUsuario" value="#{loginBean.idUsuario}" />
					<h:inputHidden id="idErroLogin" value="#{loginBean.msgErro}" />
					<p:remoteCommand name="criarUsuario"
						actionListener="#{loginBean.salvar()}">
					</p:remoteCommand>
					<p:remoteCommand name="erroLogin"
						actionListener="#{loginBean.exibirMensagemErro()}" />
					<p:panelGrid columns="3" layout="grid"
						columnClasses="ui-grid-col-2,ui-grid-col-8,ui-grid-col-2">
						<h:panelGroup>
						</h:panelGroup>
						<h:panelGroup>
							<p:panelGrid id="panelCadastro" layout="grid"
								columnClasses="ui-grid-col-12" style="overflow:auto;"
								columns="1">
								<p:fieldset legend="Dados Usuário">
									<p:panelGrid columns="4" layout="grid"
										columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-3,ui-grid-col-3">
										<h:outputText value="Email:" />
										<p:inputText required="true"
											requiredMessage="Email é obrigatório" id="emailCadastro"
											placeholder="teste@teste.com" />
										<h:outputText value="Senha:" />
										<p:password required="true"
											requiredMessage="Senha é obrigatório" id="senhaCadastro"
											placeholder="********" />
										<h:outputText value="Nome:" />
										<p:inputText required="true"
											requiredMessage="Nome é obrigatório"
											value="#{loginBean.usuario.nome}" id="nome"
											placeholder="João da Silva" />
										<h:outputText value="Cpf:" />
										<p:inputMask required="true"
											requiredMessage="Cpf é obrigatório"
											value="#{loginBean.usuario.cpf}" id="cpf"
											mask="999.999.999-99" placeholder="999.999.999-99" />

										<h:outputText value="Telefone:" />
										<p:inputMask required="true"
											requiredMessage="Telefone é obrigatório"
											value="#{loginBean.usuario.telefone}"
											placeholder="(99)99999-9999" converter="maskConverter"
											mask="(99)9?9999-9999" id="telefone" />
										<h:outputText value="Data Nasc:" />
										<p:calendar required="true" styleClass="dtNasc"
											mask="99/99/99"
											requiredMessage="Data de Nascimento é obrigatório"
											id="dataNasc" value="#{loginBean.usuario.dataNascimento}">
										</p:calendar>
									</p:panelGrid>
								</p:fieldset>


								<p:fieldset legend="Endereço">
									<p:panelGrid columns="4" layout="grid"
										columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-3,ui-grid-col-3">
										<h:outputText value="Rua:" />
										<p:inputText placeholder="Rua João da silva" required="true"
											requiredMessage="Rua é obrigatório"
											value="#{loginBean.usuario.endereco.rua}" id="rua" />
										<h:outputText value="Número:" />
										<p:inputMask id="numero"
											value="#{loginBean.usuario.endereco.numero}" />

										<h:outputText value="Cep:" />
										<p:inputMask required="true"
											requiredMessage="Cep é obrigatório" mask="99.999-999"
											placeholder="99.999-999"
											value="#{loginBean.usuario.endereco.cep}" id="cep" />
										<h:outputText value="Complemento:" />
										<p:inputText value="#{loginBean.usuario.endereco.complemento}" />

										<p:outputLabel value="Estado" for="estado" />
										<p:selectOneMenu styleClass="selectEstado"
											converter="estadoConverter" value="#{loginBean.estado}"
											style="width: 160px;" id="estado">
											<f:selectItem itemLabel="Selecione" itemValue="null" />
											<f:selectItems itemLabel="#{estado.nome}"
												itemValue="#{estado}" var="estado"
												value="#{loginBean.listarEstados}" />
											<p:ajax event="itemSelect"
												listener="#{loginBean.selectEstado}" update="cidade" />
										</p:selectOneMenu>

										<p:outputLabel value="Cidade" for="cidade" />
										<p:selectOneMenu styleClass="selectCidade"
											converter="cidadeConverter" value="#{loginBean.cidade}"
											style="width: 160px;" id="cidade">
											<f:selectItem itemLabel="Selecione" itemValue="null" />
											<f:selectItems var="cidade" itemLabel="#{cidade.nome}"
												itemValue="#{cidade}" value="#{loginBean.listarCidades}" />
											<p:ajax event="itemSelect"
												listener="#{loginBean.selectCidade}" update="bairro" />
										</p:selectOneMenu>

										<p:outputLabel value="Bairro" for="bairro" />
										<p:selectOneMenu required="true" styleClass="selectBairro"
											requiredMessage="Bairro é obrigatório"
											value="#{loginBean.usuario.endereco.bairro}"
											style="width: 160px;" id="bairro" converter="bairroConverter">
											<f:selectItem itemLabel="Selecione" itemValue="null" />
											<f:selectItems itemValue="#{bairro}" var="bairro"
												itemLabel="#{bairro.descricao}"
												value="#{loginBean.listarBairros}" />
										</p:selectOneMenu>
									</p:panelGrid>
								</p:fieldset>
								<p:fieldset legend="Tipo Usuário">
									<h:outputText value="Tipo de Usuario:" />
									<p:selectOneMenu styleClass="selectTipoUsuario"
										value="#{loginBean.usuario.tipoUsuario}" style="width:175px">
										<f:selectItems value="#{loginBean.tiposUsuario}" var="tipo"
											itemLabel="#{tipo.descricao}" itemValue="#{tipo}" />
									</p:selectOneMenu>
								</p:fieldset>
								<h:panelGrid columns="2">
									<p:commandButton value="Cancelar" action="#{loginBean.cancelar()}" immediate="true"/>
									<p:commandButton onclick="criarNovoUsuario()"
										update="mensagem,panelCadastro" value="Salvar" />
								</h:panelGrid>
							</p:panelGrid>
						</h:panelGroup>
						<h:panelGroup>
						</h:panelGroup>
					</p:panelGrid>
				</div>
			</div>
		</h:panelGroup>
	</ui:define>
	<ui:define name="titulo">Contratação de Diaristas</ui:define>
</ui:composition>